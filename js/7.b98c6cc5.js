(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"6c4e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-search-by-ayah"},[a("q-scroll-observer",{on:{scroll:t.onScroll}}),a("q-header",{ref:"header",staticClass:"bg-transparent"},[a("q-toolbar",{ref:"toolbar",staticClass:"bg-white text-black q-py-sm"},[a("q-btn",{attrs:{icon:"arrow_back",flat:"",round:"",dense:""},on:{click:function(e){return t.$router.go(-1)}}}),a("q-item",{staticClass:"q-py-sm q-px-sm"},[a("q-item-section",[a("q-item-label",[t._v("Pencarian Ayat")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n            Cari berdasarkan potongan ayat\n          ")])],1)],1)],1),a("q-separator")],1),a("div",{staticClass:"content bg-white",style:t.contentStyles},[a("div",{staticClass:"q-px-md q-pt-md"},[a("div",{staticClass:"row justify-between"},[a("q-input",{staticClass:"col-grow q-mr-sm",attrs:{type:"search",placeholder:t.inputFocusReady?"":"Masukkan kata kunci...","input-class":["q-px-sm",{"text-right":t.inputFocusReady}],dir:t.inputFocusReady?"rtl":"ltr",rounded:"",outlined:"",dense:"",clearable:"",dark:!1},on:{focus:function(){return t.inputFocus=!0},blur:function(){return t.inputFocus=!1}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("q-btn",{attrs:{round:"",unelevated:"",color:"primary",icon:"search"},on:{click:t.onSearch}})],1),t.keywordSearch?t._e():a("div",{staticClass:"column items-center q-py-lg"},[a("q-icon",{staticClass:"text-grey-8",attrs:{name:"auto_stories",size:"60px"}}),a("p",{staticClass:"text-center text-body1 text-grey-7 q-mt-md"},[t._v("\n          Masukkan kata kunci pencarian dalam tulisan arab untuk mulai\n          mencari.\n        ")])],1),t.keywordSearch&&!t.$store.state.quran.loading.searchAyah?[0==t.searchPaging.total?a("div",{staticClass:"column items-center q-py-lg"},[a("q-icon",{staticClass:"text-grey-8",attrs:{name:"blur_on",size:"60px"}}),a("p",{staticClass:"text-center text-body1 text-grey-7 q-mt-md"},[t._v("\n            Tidak dapat menemukan ayat dengan kata kunci\n            "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.keywordSearch))]),t._v(". Silahkan coba dengan kata kunci yang lain.\n          ")])],1):a("p",{staticClass:"text-center text-body1 text-primary q-my-md"},[t._v("\n          Berhasil menemukan\n          "),a("span",{staticClass:"text-bold"},[t._v(t._s(t.searchPaging.total))]),t._v("\n          ayat dengan kata kunci\n          "),a("span",{staticClass:"text-bold"},[t._v(t._s(t.keywordSearch)+".")])])]:t._e()],2),t.searchResults.length>0?a("q-list",{attrs:{separator:""}},t._l(t.searchResults,(function(e){return a("q-item",{key:e.verse_id,staticClass:"q-pt-md",attrs:{clickable:""},on:{click:function(a){return t.showDetail(e)}}},[a("q-item-section",[a("q-item-label",{staticClass:"text-arabic text-right"},[a("span",{domProps:{innerHTML:t._s(e.text)}}),a("span",{staticClass:"text-arabic-number q-mr-xs",domProps:{innerHTML:t._s(t.arabicNumber(e.ayahNumber))}})]),a("q-item-label",{staticClass:"q-py-sm translation-wrap"},[a("span",[t._v("QS. "+t._s(e.surahName+": "+e.ayahNumber)+" ")])])],1)],1)})),1):t._e(),t.$store.state.quran.loading.searchAyah?a("quran-search-result-skeleton"):t._e(),t.isLoadMoreAvailable?a("div",{staticClass:"q-py-md row justify-center"},[a("q-btn",{attrs:{outline:"",rounded:"",color:"primary",label:"Lebih Banyak"},on:{click:function(e){return t.onLoadMore()}}})],1):t._e(),t.isLoadMoreAvailable||0==t.searchResults.length?t._e():a("p",{staticClass:"text-grey text-center q-py-md"},[t._v("\n      Sudah ditampilkan semua\n    ")])],1),a("to-top")],1)},r=[],n=a("ded3"),i=a.n(n),o=a("2f62"),c=a("18d6"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-search-result-skeleton"},[a("q-list",{staticClass:"bg-white rounded-borders"},t._l(10,(function(e){return a("div",{key:e},[a("q-item",{staticClass:"q-py-md",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text",height:"30px"}}),a("q-skeleton",{attrs:{type:"text",height:"30px",width:"75%"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text",width:"30%"}})],1)],1)],1),10!=e?a("q-separator"):t._e()],1)})),0)],1)},u=[],h=a("2877"),d=a("1c1c"),p=a("66e5"),m=a("4074"),y=a("0170"),b=a("293e"),k=a("eb85"),g=a("eebe"),q=a.n(g),w={},v=Object(h["a"])(w,l,u,!1,null,null,null),S=v.exports;q()(v,"components",{QList:d["a"],QItem:p["a"],QItemSection:m["a"],QItemLabel:y["a"],QSkeleton:b["a"],QSeparator:k["a"]});var x=a("a661"),_={name:"QuranSearchByAyah",components:{QuranSearchResultSkeleton:S,ToTop:x["a"]},data(){return{init:!0,keyword:"",keywordSearch:"",inputFocus:!1,contentStyles:null}},meta(){return{title:"Pencarian Ayat"}},computed:i()(i()({},Object(o["b"])({searchResults:"quran/getSearchAyahResults",searchPaging:"quran/getSearchAyahPaging",scrollPosition:"quran/getQuranSearchAyahScrollPosition"})),{},{isLoadMoreAvailable(){return this.searchPaging.currentPage<this.searchPaging.totalPage},inputFocusReady(){return this.keyword||this.inputFocus}}),methods:{fitContentHeight(){const t=this.$refs.header.$el.clientHeight+"px";this.contentStyles={minHeight:`calc(100vh - ${t})`}},onScroll(t){["up","down"].includes(t.direction)&&!this.init&&this.updateScrollPosition(t.position)},updateScrollPosition(t){this.$store.dispatch("quran/setQuranSearchAyahScrollPosition",{offsetTop:t})},saveLastKeyword(){c["a"].set("search-keyword",this.keywordSearch)},getLastKeyword(){return c["a"].getItem("search-keyword")},onSearch(){this.$store.dispatch("quran/resetSearchAyahPaging"),this.$store.dispatch("quran/resetSearchAyahResults"),this.keywordSearch=this.keyword,this.keywordSearch&&this.search()},search(t){this.saveLastKeyword(),this.$store.dispatch("quran/searchByAyah",{keyword:this.keywordSearch,page:t}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},onLoadMore(){this.search(this.searchPaging.currentPage+1)},showDetail(t){this.$router.push({name:"QuranReaderDetail",params:{surahId:t.surahId,verseKey:t.surahId+":"+t.ayahNumber}})}},mounted(){this.fitContentHeight(),this.$nextTick((()=>{window.scrollTo(0,this.scrollPosition),this.init=!1})),this.searchResults.length>0&&(this.keywordSearch=this.getLastKeyword(),this.keyword=this.getLastKeyword())}},f=_,C=a("ed5e"),Q=a("e359"),P=a("65c6"),L=a("9c40"),A=a("27f9"),T=a("0016"),$=Object(h["a"])(f,s,r,!1,null,null,null);e["default"]=$.exports;q()($,"components",{QScrollObserver:C["a"],QHeader:Q["a"],QToolbar:P["a"],QBtn:L["a"],QItem:p["a"],QItemSection:m["a"],QItemLabel:y["a"],QSeparator:k["a"],QInput:A["a"],QIcon:T["a"],QList:d["a"]})},a661:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"to-top"},[a("q-scroll-observer",{on:{scroll:t.onScroll}}),a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.show?a("q-btn",{staticClass:"fixed-bottom-right q-mr-md q-mb-md",attrs:{color:"primary",icon:"expand_less","fab-mini":""},on:{click:function(e){return t.toTop()}}}):t._e()],1)],1)},r=[],n={name:"ToTop",data(){return{show:!1}},methods:{onScroll(t){t.position>900?this.show=!0:this.show=!1},toTop(){const t=document.getElementsByTagName("body")[0];this.scrollToElement(t)}}},i=n,o=a("2877"),c=a("ed5e"),l=a("9c40"),u=a("eebe"),h=a.n(u),d=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=d.exports;h()(d,"components",{QScrollObserver:c["a"],QBtn:l["a"]})}}]);