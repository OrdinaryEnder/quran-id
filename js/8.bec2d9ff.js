(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{d942:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-reader-detail"},[a("q-scroll-observer",{on:{scroll:t.onScroll}}),t.$store.state.quran.loading.fetchSurah?a("quran-reader-detail-skeleton"):[a("q-header",{ref:"header",staticClass:"bg-transparent"},[a("q-toolbar",{ref:"toolbar",staticClass:"bg-white text-black q-py-sm"},[a("q-btn",{attrs:{icon:"arrow_back",flat:"",round:"",dense:""},on:{click:function(e){return t.$router.go(-1)}}}),a("q-item",{staticClass:"q-py-sm q-px-sm"},[a("q-item-section",[a("q-item-label",[t._v(t._s(t.surah.name_simple))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n              "+t._s(t.surahNameTranslation)+", "+t._s(t.surah.verses_count)+" ayat\n            ")])],1)],1),a("q-space"),a("q-btn",{staticClass:"nowrap",attrs:{flat:"",rounded:"",dense:"","icon-right":"arrow_drop_down"},on:{click:function(e){return t.prepareAyahChange()}}},[t._v("\n          "+t._s(t.currentAyah)+"\n        ")]),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"bookmark_border"}})],1),a("q-separator")],1),a("div",{staticClass:"content bg-white",style:t.contentStyles},[t.surah.bismillah_pre?a("div",{staticClass:"text-basmalah text-center q-py-md",staticStyle:{"font-size":"22pt"}},[t._v("\n        "+t._s(t.basmalahArabic)+"\n      ")]):t._e(),a("q-list",{attrs:{separator:""}},t._l(t.surah.ayahs,(function(e,s){return a("q-item",{key:e.verse_key,ref:e.verse_key,refInFor:!0,staticClass:"q-pt-md"},[a("q-item-section",[a("q-item-label",{staticClass:"text-arabic text-right"},[t._v("\n              "+t._s(e.text_uthmani)+"\n              "),a("span",{staticClass:"text-arabic-number q-mr-xs",domProps:{innerHTML:t._s(t.arabicNumber(t.verseNumberFromKey(e.verse_key)))}})]),a("q-item-label",{staticClass:"q-pt-sm translation-wrap"},[a("span",[t._v(t._s(t.verseNumberFromKey(e.verse_key)+". "))]),a("span",{domProps:{innerHTML:t._s(t.surah.translations[s].text)}})]),a("q-btn",{staticClass:"self-end",attrs:{icon:"more_vert",color:"grey-3","text-color":"black",size:"xs",round:"",dense:"",unelevated:""},on:{click:function(a){return t.onOptionClicked(e,t.surah.translations[s])}}})],1)],1)})),1)],1)],a("q-dialog",{ref:"dialogOptions",model:{value:t.showDialogOptions,callback:function(e){t.showDialogOptions=e},expression:"showDialogOptions"}},[a("q-card",{staticClass:"bg-primary",staticStyle:{width:"80vw"}},[t.ayahDialogOptions?a("q-card-section",{staticClass:"row items-center text-white"},[a("div",{staticClass:"text-h6"},[t._v("\n          Ayat "+t._s(t.ayahDialogOptions.translation.verse_number)+"\n        ")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1):t._e(),a("q-list",{staticClass:"bg-white",attrs:{separator:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.copy("ayah")}}},[a("q-item-section",[t._v("\n            Salin ayat\n          ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.copy("translation")}}},[a("q-item-section",[t._v("\n            Salin terjemahan\n          ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.copy("both")}}},[a("q-item-section",[t._v("\n            Salin ayat dan terjemahan\n          ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",[t._v("\n            Bookmark\n          ")])],1)],1)],1)],1),a("q-dialog",{ref:"dialogOptions",model:{value:t.showDialogAyahChanger,callback:function(e){t.showDialogAyahChanger=e},expression:"showDialogAyahChanger"}},[a("q-card",{staticClass:"bg-primary",staticStyle:{width:"80vw"}},[a("q-card-section",{staticClass:"row items-center text-white"},[a("div",{staticClass:"text-h6"},[t._v("Pergi ke ayat")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",{staticClass:"bg-white"},[a("q-input",{attrs:{rounded:"",outlined:"",placeholder:"Filter nomor ayat...",dense:"",type:"number",min:"1"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.ayahChangerKeyword,callback:function(e){t.ayahChangerKeyword=e},expression:"ayahChangerKeyword"}})],1),a("q-list",{staticClass:"scroll bg-white",staticStyle:{"max-height":"60vh"},attrs:{separator:""}},[0==t.ayahsChangerFiltered.length?a("q-item",[a("q-item-section",{staticClass:"text-center text-grey-6"},[t._v("\n            Tidak tersedia\n          ")])],1):t._e(),t._l(t.ayahsChangerFiltered,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"ayah-changer-"+e.verse_key,attrs:{clickable:""},on:{click:function(a){return t.onAyahChange(e)}}},[a("q-item-section",[t._v("\n            Ayat "+t._s(t.verseNumberFromKey(e.verse_key))+"\n          ")])],1)}))],2)],1)],1)],2)},r=[],i=a("ded3"),n=a.n(i),o=a("cdde"),l=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-reader-detail-skeleton"},[a("q-header",{staticClass:"bg-transparent"},[a("q-toolbar",{staticClass:"bg-white q-px-md q-py-sm"},[a("q-skeleton",{staticClass:"q-mr-sm",attrs:{type:"circle",size:"24px"}}),a("q-item",{staticClass:"q-py-sm q-px-sm"},[a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text",width:"75px"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text",width:"100px"}})],1)],1)],1),a("q-space"),a("q-skeleton",{attrs:{type:"circle",size:"24px"}})],1),a("q-separator",{attrs:{color:"grey-3"}})],1),a("div",{staticClass:"bg-white",staticStyle:{"min-height":"100vh"}},[a("q-list",t._l(10,(function(e){return a("div",{key:e},[a("q-item",{staticClass:"q-py-md"},[a("q-item-section",[a("q-item-label",{staticClass:"text-right"},[a("q-skeleton",{attrs:{type:"text",height:"30px"}})],1),a("q-item-label",{staticClass:"q-pt-sm"},[a("q-skeleton",{attrs:{type:"text"}}),a("q-skeleton",{attrs:{type:"text",width:"75%"}})],1)],1),a("q-item-section",{staticClass:"q-mt-sm",attrs:{side:"",top:""}},[a("q-skeleton",{attrs:{type:"circle",size:"16px"}})],1)],1),10!=e?a("q-separator",{attrs:{color:"grey-3"}}):t._e()],1)})),0)],1)],1)},h=[],p=a("2877"),m=a("e359"),u=a("65c6"),d=a("293e"),y=a("66e5"),q=a("4074"),v=a("0170"),b=a("2c91"),g=a("eb85"),_=a("1c1c"),C=a("eebe"),f=a.n(C),w={},k=Object(p["a"])(w,c,h,!1,null,null,null),x=k.exports;f()(k,"components",{QHeader:m["a"],QToolbar:u["a"],QSkeleton:d["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:v["a"],QSpace:b["a"],QSeparator:g["a"],QList:_["a"]});var S={name:"QuranReaderDetail",props:{offsetTop:{type:Number,default:0},verseKey:{type:String}},components:{QuranReaderDetailSkeleton:x},data(){return{init:!0,showDialogOptions:!1,showDialogAyahChanger:!1,ayahDialogOptions:null,currentAyah:1,ayahChangerKeyword:null,contentStyles:null}},meta(){return{title:this.pageTitle}},computed:n()(n()({},Object(l["b"])({surah:"quran/getSurah"})),{},{pageTitle(){return this.surah?"QS. "+this.surah.name_simple+" | "+this.surahNameTranslation+" | "+this.productName:this.productName},surahNameTranslation(){var t;return this.normalizeSurahNameTranslation(null===(t=this.surah)||void 0===t?void 0:t.translated_name.name)},surahSimple(){const t=Object.assign({},this.surah);return delete t.ayahs,delete t.translations,t},ayahsChangerFiltered(){var t,e;return this.ayahChangerKeyword?this.surah.ayahs.filter((t=>this.verseNumberFromKey(t.verse_key).startsWith(this.ayahChangerKeyword))):null!==(t=null===(e=this.surah)||void 0===e?void 0:e.ayahs)&&void 0!==t?t:[]}}),methods:{onScroll(t){["up","down"].includes(t.direction)&&!this.init&&this.updateSurahLastRead(t.position)},fitContentHeight(){const t=this.$refs.header.$el.clientHeight+"px";this.contentStyles={minHeight:`calc(100vh - ${t})`}},verseNumberFromKey(t){return t.split(":")[1]},onOptionClicked(t,e){this.ayahDialogOptions={arabic:t,translation:e},this.showDialogOptions=!0},copy(t){let e;const a=this.ayahDialogOptions;"ayah"==t?e=a.arabic.text_uthmani:"translation"==t?e=a.translation.text:"both"==t&&(e=a.arabic.text_uthmani+"\n\n"+a.translation.text),e+="\n\n",e+=`QS. ${this.surah.name_simple}: ${a.translation.verse_number}`,e=this.removeFootNote(e),Object(o["a"])(e).then((()=>{this.$q.notify({type:"toast",message:"Berhasil disalin."})})).catch((()=>{this.$q.notify({type:"toast-error",message:"Gagal! Terjadi kesalahan."})}))},prepareAyahChange(){this.showDialogAyahChanger=!0},onAyahChange(t){this.showDialogAyahChanger=!1,this.currentAyah=this.verseNumberFromKey(t.verse_key),this.scrollToElement(this.$refs[t.verse_key][0].$el)},updateSurahLastRead(t){this.$store.dispatch("quran/setSurahLastRead",{surah:this.surahSimple,offsetTop:t})}},created(){this.$store.dispatch("quran/fetchSurah",this.$route.params.surahId).then((t=>{this.$nextTick((()=>{this.init=!1,this.fitContentHeight(),window.scrollTo(0,this.offsetTop),this.verseKey&&this.scrollToElement(this.$refs[this.verseKey][0].$el)}))}))}},Q=S,N=a("ed5e"),O=a("9c40"),D=a("24e8"),T=a("f09f"),$=a("a370"),A=a("27f9"),K=a("0016"),F=a("7f67"),I=a("714f"),L=Object(p["a"])(Q,s,r,!1,null,null,null);e["default"]=L.exports;f()(L,"components",{QScrollObserver:N["a"],QHeader:m["a"],QToolbar:u["a"],QBtn:O["a"],QItem:y["a"],QItemSection:q["a"],QItemLabel:v["a"],QSpace:b["a"],QSeparator:g["a"],QList:_["a"],QDialog:D["a"],QCard:T["a"],QCardSection:$["a"],QInput:A["a"],QIcon:K["a"]}),f()(L,"directives",{ClosePopup:F["a"],Ripple:I["a"]})}}]);