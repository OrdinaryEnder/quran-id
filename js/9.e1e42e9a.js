(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"6c4e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-search-by-ayah"},[a("q-scroll-observer",{on:{scroll:t.onScroll}}),a("q-header",{ref:"header",staticClass:"bg-transparent"},[a("q-toolbar",{ref:"toolbar",staticClass:"bg-white text-black q-py-sm"},[a("q-btn",{attrs:{icon:"arrow_back",flat:"",round:"",dense:""},on:{click:function(e){return t.$router.go(-1)}}}),a("q-item",{staticClass:"q-py-sm q-px-sm"},[a("q-item-section",[a("q-item-label",[t._v("Pencarian Ayat")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n            Cari berdasarkan potongan ayat\n          ")])],1)],1)],1),a("q-separator")],1),a("div",{staticClass:"content bg-white",style:t.contentStyles},[a("div",{staticClass:"q-px-md q-pt-md"},[a("div",{staticClass:"row justify-between"},[a("q-input",{staticClass:"col-grow q-mr-sm",attrs:{type:"search",placeholder:"الحمد","input-class":"q-px-sm text-right",dir:"rtl",rounded:"",outlined:"",dense:"",clearable:"",dark:!1},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("q-btn",{attrs:{round:"",unelevated:"",color:"primary",icon:"search"},on:{click:t.onSearch}})],1),t.keyword?a("p",{staticClass:"text-center q-my-md"},[t._v("\n        Ditemukan\n        "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.searchPaging.total))]),t._v(" ayat dengan\n        kata kunci\n        "),a("span",{staticClass:"text-primary"},[t._v("'"+t._s(t.keyword)+"'")])]):t._e()]),t.searchResults.length>0?a("q-list",{attrs:{separator:""}},t._l(t.searchResults,(function(e){return a("q-item",{key:e.verse_id,staticClass:"q-pt-md",attrs:{clickable:""},on:{click:function(a){return t.showDetail(e)}}},[a("q-item-section",[a("q-item-label",{staticClass:"text-arabic text-right"},[a("span",{domProps:{innerHTML:t._s(e.text)}}),a("span",{staticClass:"text-arabic-number q-mr-xs",domProps:{innerHTML:t._s(t.arabicNumber(e.ayahNumber))}})]),a("q-item-label",{staticClass:"q-py-sm translation-wrap"},[a("span",[t._v("QS. "+t._s(e.surahName+": "+e.ayahNumber)+" ")])])],1)],1)})),1):t._e(),t.$store.state.quran.loading.searchAyah?a("quran-search-result-skeleton"):t._e(),t.isLoadMoreAvailable?a("div",{staticClass:"q-py-md row justify-center"},[a("q-btn",{attrs:{outline:"",rounded:"",color:"primary",label:"Lebih Banyak"},on:{click:function(e){return t.onLoadMore()}}})],1):t._e(),t.isLoadMoreAvailable||0==t.searchResults.length?t._e():a("p",{staticClass:"text-grey text-center q-py-md"},[t._v("\n      Sudah ditampilkan semua\n    ")])],1)],1)},r=[],n=a("ded3"),i=a.n(n),o=a("2f62"),l=a("18d6"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quran-search-result-skeleton"},[a("q-list",{staticClass:"bg-white rounded-borders"},t._l(10,(function(e){return a("div",{key:e},[a("q-item",{staticClass:"q-py-md",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text",height:"30px"}}),a("q-skeleton",{attrs:{type:"text",height:"30px",width:"75%"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text",width:"30%"}})],1)],1)],1),10!=e?a("q-separator"):t._e()],1)})),0)],1)},h=[],u=a("2877"),d=a("1c1c"),p=a("66e5"),m=a("4074"),y=a("0170"),b=a("293e"),q=a("eb85"),g=a("eebe"),k=a.n(g),w={},v=Object(u["a"])(w,c,h,!1,null,null,null),S=v.exports;k()(v,"components",{QList:d["a"],QItem:p["a"],QItemSection:m["a"],QItemLabel:y["a"],QSkeleton:b["a"],QSeparator:q["a"]});var _={name:"QuranSearchByAyah",components:{QuranSearchResultSkeleton:S},data(){return{init:!0,keyword:"",contentStyles:null}},meta(){return{title:"Pencarian Ayat"}},computed:i()(i()({},Object(o["b"])({searchResults:"quran/getSearchAyahResults",searchPaging:"quran/getSearchAyahPaging",scrollPosition:"quran/getQuranSearchAyahScrollPosition"})),{},{isLoadMoreAvailable(){return this.searchPaging.currentPage<this.searchPaging.totalPage}}),methods:{fitContentHeight(){const t=this.$refs.header.$el.clientHeight+"px";this.contentStyles={minHeight:`calc(100vh - ${t})`}},onScroll(t){["up","down"].includes(t.direction)&&!this.init&&this.updateScrollPosition(t.position)},updateScrollPosition(t){this.$store.dispatch("quran/setQuranSearchAyahScrollPosition",{offsetTop:t})},saveLastKeyword(){l["a"].set("search-keyword",this.keyword)},getLastKeyword(){return l["a"].getItem("search-keyword")},onSearch(){this.$store.dispatch("quran/resetSearchAyahPaging"),this.$store.dispatch("quran/resetSearchAyahResults"),this.keyword&&this.search()},search(t){this.saveLastKeyword(),this.$store.dispatch("quran/searchByAyah",{keyword:this.keyword,page:t}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},onLoadMore(){this.search(this.searchPaging.currentPage+1)},showDetail(t){this.$router.push({name:"QuranReaderDetail",params:{surahId:t.surahId,verseKey:t.surahId+":"+t.ayahNumber}})}},mounted(){this.fitContentHeight(),this.$nextTick((()=>{window.scrollTo(0,this.scrollPosition),this.init=!1}))},created(){this.searchResults.length>0&&(this.keyword=this.getLastKeyword())}},x=_,f=a("ed5e"),C=a("e359"),Q=a("65c6"),P=a("9c40"),L=a("27f9"),A=Object(u["a"])(x,s,r,!1,null,null,null);e["default"]=A.exports;k()(A,"components",{QScrollObserver:f["a"],QHeader:C["a"],QToolbar:Q["a"],QBtn:P["a"],QItem:p["a"],QItemSection:m["a"],QItemLabel:y["a"],QSeparator:q["a"],QInput:L["a"],QList:d["a"]})}}]);